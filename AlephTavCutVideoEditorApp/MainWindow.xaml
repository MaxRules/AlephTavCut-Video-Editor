<Window x:Class="AlephTavCutVideoEditorApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="AlephTavCut Video Editor" Height="600" Width="900" KeyDown="Window_KeyDown">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="2*" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Top controls -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" VerticalAlignment="Center" Margin="0,0,0,8">
            <Button Name="BtnLoad" Width="100" Click="BtnLoad_Click">Load Video</Button>
            <TextBlock VerticalAlignment="Center">FFmpeg:</TextBlock>
            <TextBox Name="TxtFfmpegPath" Width="300" Text="ffmpeg.exe" />
            <Button Name="BtnBrowseFf" Width="60" Click="BtnBrowseFf_Click">Browse</Button>
            <CheckBox Name="ChkPreciseTrim" VerticalAlignment="Center" Margin="8,0" ToolTip="When enabled, segments are re-encoded for frame-accurate trimming (slower)."><TextBlock>Precise trimming (re-encode)</TextBlock></CheckBox>
            <Button Name="BtnExport" Width="120" Click="BtnExport_Click">Export Edited Video</Button>
        </StackPanel>

        <!-- Media preview -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*" />
                <ColumnDefinition Width="2*" />
            </Grid.ColumnDefinitions>

            <Border Grid.Column="0" BorderBrush="DarkGray" BorderThickness="1" Margin="0,0,8,0">
                <Grid>
                    <MediaElement Name="MediaPreview" LoadedBehavior="Manual" UnloadedBehavior="Manual" Stretch="Uniform" />
                    <StackPanel VerticalAlignment="Bottom" Background="#66000000" Orientation="Horizontal">
                        <Button Width="60" Click="BtnPlay_Click">Play</Button>
                        <Button Width="60" Click="BtnPause_Click">Pause</Button>
                        <TextBlock Name="TxtPosition" Foreground="White" Margin="8,0,0,0" VerticalAlignment="Center">00:00:00</TextBlock>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Edit controls -->
            <Border Grid.Column="1" BorderBrush="DarkGray" BorderThickness="1" Padding="8">
                <StackPanel>
                    <TextBlock FontWeight="Bold">Cut Segment (enter times to remove)</TextBlock>
                    <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                        <TextBlock VerticalAlignment="Center">Start:</TextBlock>
                        <TextBox Name="TxtStart" Width="110" ToolTip="Format hh:mm:ss or seconds" />
                        <TextBlock VerticalAlignment="Center">End:</TextBlock>
                        <TextBox Name="TxtEnd" Width="110" ToolTip="Format hh:mm:ss or seconds" />
                        <Button Width="70" Click="BtnAddCut_Click">Add</Button>
                    </StackPanel>

                    <TextBlock FontWeight="Bold" Margin="0,10,0,4">Cuts (you'll remove these ranges)</TextBlock>
                    <ListBox Name="ListCuts" Height="220" />
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,8,0,0">
                        <Button Width="80" Click="BtnRemoveCut_Click" ToolTip="Remove selected cut, or enter Start/End and click Remove. Press Delete to remove the selected item.">Remove</Button>
                        <Button Width="100" Click="BtnClearCuts_Click" Margin="8,0,0,0">Clear All</Button>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>

        <StackPanel Grid.Row="2" Orientation="Vertical" Margin="0,8,0,0">
            <TextBlock Name="TxtStatus" Text="Ready" />
            <ProgressBar Name="Progress" Height="18" Minimum="0" Maximum="100" Visibility="Collapsed" />
            <TextBlock FontSize="12" Foreground="Gray" Margin="0,6,0,0">Tip: For offline use, place a static copy of <Run FontWeight="Bold">ffmpeg.exe</Run> in the app folder or set its path above.</TextBlock>
        </StackPanel>
    </Grid>
</Window>